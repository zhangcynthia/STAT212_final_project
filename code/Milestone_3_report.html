<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Milestone 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Milestone_3_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="Milestone_3_report_files/libs/quarto-html/quarto.js"></script>
<script src="Milestone_3_report_files/libs/quarto-html/popper.min.js"></script>
<script src="Milestone_3_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Milestone_3_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="Milestone_3_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Milestone_3_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Milestone_3_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Milestone_3_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Milestone_3_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Milestone 3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>We were motivated to investigate the accessibility of public transportation within the Twin Cities area with the MetroTransit, being heavily influenced by concerns around equality. A large motivation of every community when they decide to invest heavily in public transportation infrastructure is to give lower-income communities the ability to travel around even when they do not own cars of their own, give individuals with disabilities the opportunity to continue their life, so if the public transportation has issues that pose as challenges for accessibility then that devalues the purpose of public transportation.</p>
</section>
<section id="broad-questions" class="level2">
<h2 class="anchored" data-anchor-id="broad-questions">Broad Questions</h2>
<p>Starting with our first big research question, we were interested in researching whether there were more bus stops in locations based on income and population. The assumption was that there would be more stops in areas with higher population densities and areas that were lower income because those are the communities that would theoretically utilize these services the most. Lower-income communities because they couldn’t afford ridesharing or didn’t own a vehicle and in higher-density areas because more individuals would be served. We were also interested in narrowing this broad research question about the urban population to looking into racial demographics of the Twin Cities areas to see if the most marginalized communities (Black and Latino) were fully served. However, this idea had to be swept aside as there weren’t enough POC groups within the Twin Cities area to create a compelling enough case. Thus, we decided to find another subsection of the population to observe: students. We wanted to see the average number of bus stops located in a particular tract and how that correlated with the average number of schools (primary, middle, high schools, and universities), so we could then conclude whether public transit was accessible to younger people as they also rely on public transportation because many can’t drive. The next question we wanted to understand was related to the ridership changes, especially after the COVID-19 pandemic. It is interesting to observe how the ridership has changed after a pandemic where social distancing and quarantining were so important. This is another indirect method of seeing the accessibility of public transportation because you can learn whether or not initiatives for greater accessibility have been ruled back after the pandemic. For example, has it been a priority for MetroTransit to create a safe environment for their immuno-compromised citizens? We know the number of bus stops has been rolled back after COVID-19, how has that affected certain populations who rely on public transit? To answer these questions, in addition to tracking how daily ridership has varied throughout the years, we narrowed it down by delving into how ridership has changed from weekends to weekdays and different transit lines. Certain populations use certain lines more than others, and certain individuals use transit more on weekdays, i.e., those who use public transit to work or students to school.</p>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>To answer the first broad question, we plot a scatter plot to observe the relationship between the population and number of stops for all census tracts. From the visualization, we observe a positive association between population and the number of bus stops. Then we dig into the income where we use the median income of each tract to measure. From the scatter plot we create, we observe a slightly negative association between median income and the number of bus stops. Then, we focus on the effect of different races on number of buses. Focusing on people who identified as white alone, we observe from the scatter plot that there is a slightly negative association between the percentage of people who identified as white only and the number of bus stops. Besides that, the percentage of people who identify as the other races does not show significant associations with the number of bus stops.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Having those results back to the context, we can roughly conclude that by looking at the different aspects of demographics, the census tracts which has larger populations or lower median income are more likely to have a larger number of bus stops. The bus stops are mainly located in downtown Saint Paul and downtown Minneapolis where the census tract would be relatively crowded with lower income. For races, we can conclude that the census tract which has a lower percentage of white has fewer bus stops. The major customer group of public transportation is low-income people and people of color. This is aligned with the results we observe from the visualizations.</p>
<p>Besides those demographic aspects, we also research if the number of bus stops is related to education. From the visualization, we see a strong positive association between the number of schools and bus stops among the tracts. We can conclude that there are more bus stops around school which is understandable as students would be more reliant on public transportation.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To answer the second broad question, we count the number of routes and ridership Metro Transit had before, during, and after the pandemic. From our visualizations, we can see that in the years 2019 and 2020, there was a significant drop in the number of routes and ridership. During the pandemic, there was a lack of drivers and customers which led to the shutting down of many routes. From the current data, the number of routes hasn’t returned to the origin, but the ridership has gradually increased since 2021.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Milestone_3_report_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="takeaways" class="level2">
<h2 class="anchored" data-anchor-id="takeaways">Takeaways</h2>
<p>From what we currently have, the main takeaway is that the bus stops are mainly located in the census tracts that have more people, lower income, lower percentage of White, or with great numbers of schools. The public transportation system has been significantly impacted during Covid-19 as shown by the shutting down of bus routes and loss of ridership. The limitation of this data is that we can only use ridership and number of bus stops to evaluate the accessibility of public transportation to customers. Further, we will refine our current visualizations and investigate the job opportunities in the target area with more data to see how could it related to the transportation system.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>